:root{
      --bg:#0b0c0f;
      --panel:#14161b;
      --muted:#8a8f98;
      --text:#e9edf2;
      --accent:#6aa6ff;
      --danger:#ff6a6a;
      --ok:#5bd27a;
      --border:#22252c;
      --shadow: 0 8px 24px rgba(0,0,0,.25);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb;
        --panel:#ffffff;
        --muted:#6b7280;
        --text:#0f172a;
        --accent:#2563eb;
        --danger:#dc2626;
        --ok:#16a34a;
        --border:#e5e7eb;
        --shadow: 0 10px 22px rgba(2,6,23,.06);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
      display:grid;
      grid-template-columns: 280px 1fr;
      grid-template-rows: 64px 1fr;
      grid-template-areas:
        "sidebar header"
        "sidebar main";
      gap: 16px;
      padding:16px;
    }
    header{
      grid-area: header;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      display:flex;gap:10px;align-items:center;
      font-weight:700; letter-spacing:.2px;
    }
    .brand .dot{
      width:10px;height:10px;border-radius:50%;background:var(--accent);
      box-shadow:0 0 0 6px color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .actions{display:flex;gap:8px;align-items:center}
    button, .btn{
      border:1px solid var(--border);
      background:var(--panel);
      color:var(--text);
      padding:10px 12px;
      border-radius:10px;
      box-shadow: var(--shadow);
      cursor:pointer;
      transition:.15s transform ease, .2s background ease, .2s border-color ease;
      font-weight:600;
    }
    button:hover{ transform: translateY(-1px) }
    button:active{ transform: translateY(0) scale(.98) }
    .btn-accent{ border-color: color-mix(in oklab, var(--accent) 40%, var(--border)); }
    .btn-danger{ border-color: color-mix(in oklab, var(--danger) 40%, var(--border)); }
    .btn-ghost{
      background:transparent;border-color:var(--border);box-shadow:none
    }
    .sr-only{position:absolute;left:-9999px}
    aside{
      grid-area: sidebar;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:14px;
      box-shadow: var(--shadow);
      padding:14px;
      display:flex;flex-direction:column;gap:12px;
      min-height:0; /* for overflow */
    }
    .sidebar-head{display:flex;align-items:center;justify-content:space-between}
    .search{
      position:relative;
    }
    .search input{
      width:100%;
      padding:10px 12px 10px 36px;
      border:1px solid var(--border);
      background:transparent;
      border-radius:10px;
      color:var(--text);
      outline:none;
    }
    .search svg{
      width:18px;height:18px;position:absolute;left:10px;top:50%;translate:0 -50%;
      opacity:.6
    }
    .lists{
      overflow:auto;scrollbar-gutter:stable;
      display:flex;flex-direction:column;gap:6px;
    }
    .list-item{
      display:flex;align-items:center;justify-content:space-between;
      gap:10px;
      padding:10px 12px;border-radius:10px;
      border:1px solid var(--border);
      cursor:pointer;
    }
    .list-item.active{
      outline:2px solid color-mix(in oklab, var(--accent) 60%, transparent);
      border-color: color-mix(in oklab, var(--accent) 35%, var(--border));
      background: color-mix(in oklab, var(--accent) 12%, transparent);
    }
    .list-item .meta{font-size:12px;color:var(--muted)}
    main{
      grid-area: main;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:14px;
      box-shadow: var(--shadow);
      display:flex;flex-direction:column;
      overflow:hidden;
      min-height:0;
    }
    .main-head{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px;gap:8px;border-bottom:1px solid var(--border);
    }
    .title{
      font-size:18px;font-weight:800; letter-spacing:.2px;
      display:flex;gap:10px;align-items:center;
    }
    .title input{
      border:none;background:transparent;color:inherit;outline:none;
      font: inherit;font-weight:800;width: min(48vw, 560px);
    }
    .quick-add{
      display:flex;gap:8px;align-items:center;
      padding:0 14px 14px;border-bottom:1px solid var(--border);
      flex-wrap:wrap;
    }
    .quick-add input{
      flex:1; min-width:220px;
      padding:11px 12px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--text);outline:none;
    }
    .items{
      padding:8px 14px 18px; overflow:auto; scrollbar-gutter:stable;
      display:flex; flex-direction:column; gap:6px;
    }
    .item{
      display:grid; grid-template-columns: 28px 1fr auto; gap:10px; align-items:center;
      padding:10px 12px;border-radius:10px;border:1px solid var(--border);
    }
    .item.done{ opacity:.7; background: color-mix(in oklab, var(--ok) 10%, transparent) }
    .item label{ display:flex;align-items:center;gap:10px;cursor:pointer }
    .item input[type="checkbox"]{ width:18px;height:18px }
    .item .text{
      outline:none; border:none; background:transparent; color:inherit; width:100%;
      font: inherit;
    }
    .pill{
      font-size:12px;border:1px solid var(--border);padding:6px 8px;border-radius:999px;color:var(--muted)
    }
    .footer{
      margin-top:auto; padding:12px 14px; border-top:1px solid var(--border);
      display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:space-between;
    }
    .filters{ display:flex; gap:8px; flex-wrap:wrap }
    .filters button[aria-pressed="true"]{
      outline:2px solid color-mix(in oklab, var(--accent) 50%, transparent);
    }
    .empty{
      text-align:center; padding:36px; color:var(--muted);
    }
    @media (max-width: 920px){
      body{
        grid-template-columns: 1fr;
        grid-template-rows: auto auto 1fr;
        grid-template-areas:
          "header"
          "sidebar"
          "main";
      }
    }